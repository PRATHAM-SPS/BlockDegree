{{> includes/hero hero-title="Video Library"}}
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<div id="video-page-wrapper" class="container__cstm">
    <div class="row">
        {{#if video}}
        <div class="col-lg-9 colo-md-8">
            <div class="embed-responsive embed-responsive-16by9">
                <video id="videoPlayer" controlsList="nodownload" controls width="600px" height="400px">
                    <source id="videoPlayerSource" src="http://localhost:3000/api/videoStream/1" type="video/mp4">
                </video>
            </div>
            <ul class="nav nav-custom nav-borderless nav_tabs1" id="nav_tabs" role="tablist">
                <li class="nav-item"><a class="nav-link show active" href="#overview" role="tab" data-toggle="tab"
                        aria-selected="true">Overview</a>
                </li>
                <li class="nav-item"><a class="nav-link show" href="#notes" role="tab" data-toggle="tab"
                        aria-selected="false">Notes</a></li>
                <li class="nav-item"><a class="nav-link show" href="#announcement" role="tab" data-toggle="tab"
                        aria-selected="false">Announcements</a></li>
            </ul>
            <div class="tab-content">
                <div class="tab-pane fade active show" id="overview">
                    <div>
                        <h3>Introduction to how Blockchain Works ?</h3>
                        <p>Blockchain is a combination of three leading technologies:</p>
                        <ol>
                            <li>Cryptographic keys.</li>
                            <li>A peer-to-peer network containing a shared ledger.</li>
                            <li>A means of computing, to store the transactions and records of the network.</li>
                        </ol>
                        <p>Cryptography keys consist of two keys – Private key and Public key. These keys help in
                            performing successful transactions between two parties. Each individual has these two keys,
                            which they use to produce a secure digital identity reference. This secured identity is the
                            most important aspect of Blockchain technology. In the world of cryptocurrency, this
                            identity is referred to as ‘digital signature’ and is used for authorizing and controlling
                            transactions.
                            The digital signature is merged with the peer-to-peer network; a large number of individuals
                            who act as authorities use the digital signature in order to reach a consensus on
                            transactions, among other issues. When they authorize a deal, it is certified by a
                            mathematical verification, which results in a successful secured transaction between the two
                            network-connected parties. So to sum it up, Blockchain users employ cryptography keys to
                            perform different types of digital interactions over the peer-to-peer network.</p>
                    </div>
                </div>
                <div class="tab-pane fade" id="notes">
                    <div>
                        {{!-- <h3>Create a new note</h3> --}}
                        {{!-- <p>Create an online video course, reach students across the globe, and earn money.</p>
                        --}}
                    </div>
                </div>
                <div class="tab-pane fade" id="announcement">
                    <div>
                        {{!-- <h3 class="fw6">Important Q&A support</h3> --}}
                        {{!-- <p>Happy 2019 to everyone, thank you for being a student and all of your support.</p> --}}
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-3 colo-md-4">
            <div id="video-links-block">
                <button videoId="1">1. Chapter 1<br />
                    <div id="btn1" class="video-item-link">
                        <i class="fa fa-play-circle"></i> 11.55 min
                    </div>
                </button>
                <button videoId="2">2. Chapter 2<br />
                    <div id="btn2" class="video-item-link">
                        <i class="fa fa-play-circle"></i> 8.48 min
                    </div>
                </button>
                <button videoId="3">3. Chapter 3<br />
                    <div id="btn3" class="video-item-link">
                        <i class="fa fa-play-circle"></i> 3 min
                    </div>
                </button>
                <button videoId="4">4. Chapter 4<br />
                    <div id="btn4" class="video-item-link">
                        <i class="fa fa-play-circle"></i> 6 min
                    </div>
                </button>
                <button videoId="5">5. Chapter 5<br />
                    <div id="btn5" class="video-item-link">
                        <i class="fa fa-play-circle"></i> 3 min
                    </div>
                </button>
                <button videoId="6">6. Chapter 6<br />
                    <div id="btn6" class="video-item-link">
                        <i class="fa fa-play-circle"></i> 5 min
                    </div>
                </button>
                <button videoId="7">7. Chapter 7<br />
                    <div id="btn7" class="video-item-link">
                        <i class="fa fa-play-circle"></i> 3 min
                    </div>
                </button>
                <button videoId="8">8. Chapter 8<br />
                    <div id="btn8" class="video-item-link">
                        <i class="fa fa-play-circle"></i> 4 min
                    </div>
                </button>
            </div>
        </div>

        {{else}}
        <div class="col-lg-12 colo-md-12">
            <h1 style="text-align: center;">To see video Please Subscribe</h1>
            <button class="btn btn-primary mt-3" style="display: block;margin:0 auto;" onclick="payment()"
                class="btn text-body btn-light mb-3" data-price="" id="">PayPal</button>
            {{/if}}
        </div>
    </div>

    <script>
        const videoPlayer = document.getElementById("videoPlayer")
        $('button[videoId="1"]').addClass('video-item-link-active')
        $('button').click(function () {
            videoPlayer.pause();
            let videoId = $(this).attr("videoId");
            $('#videoPlayerSource').attr('src', `http://localhost:3000/api/videoStream/${videoId}`)
            videoPlayer.load();
            videoPlayer.play();
            $(this).addClass('video-item-link-active').siblings().removeClass('video-item-link-active')
            $($(this).attr('videoId')).addClass('video-item-link-active').siblings().removeClass('video-item-link-active');
        })
        function payment() {
            let formNew = document.createElement('form');
            formNew.action = "/pay-video";
            formNew.method = "post";
            document.body.appendChild(formNew);
            formNew.submit();
        }
    </script>