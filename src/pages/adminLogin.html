<html>

<head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" type="text/javascript"></script>

</head>

<body>
  <h3>
    Blockdegree Admin Login
  </h3>

  <script>

    // Array to store allowed admin email IDs
    const allowedAdminEmails = ["adi@xinfin.org"];


    $(document).ready(function () {

      $("#admin-login").on("submit", (e) => {
        e.preventDefault();
        const email = document.getElementById("email").value;
        const password = document.getElementById("password").value;

      
         // Check if the entered email is in the list of allowed admin email IDs
         if (allowedAdminEmails.includes(email)) {
          $.ajax({
            url: "/api/login",
            method: "post",
            data: {
              email,
              password,
            },
            success: (result) => {
              if (result && result.status === false) {
                // Simulate an HTTP redirect:
                alert("Login failed");
              } else {
                window.location.replace("https://www.blockdegree.org/newadmin");
              }
            }
          });
        } else {
          alert("Invalid admin email");
        }
      });
    });
  </script>

  <form id="admin-login">
    <input type="text" id="email" placeholder="admin email" />
    <input type="password" id="password" placeholder="admin email" />
    <button type="submit" type="button">Log In</button>

  </form>
</body>
<script>

</script>

</html>